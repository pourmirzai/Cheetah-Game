# ๐ฏ Game Mechanics Documentation

ูุณุชูุฏุงุช ูฺฉุงูฺฉโูุง ุจุงุฒ ูุฌุงุช ูุฒ ุงุฑุงู

## ๐ ููุง ฺฉู

ุจุงุฒ ูุฌุงุช ูุฒ ุงุฑุงู ฺฉ vertical scroller ุงุณุช ฺฉู ุงุฒ ูฺฉุงูฺฉโูุง ุณุงุฏู ุงูุง ุฌุฐุงุจ ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ูพุงู ุญูุงุธุช ุงุฒ ูุฒูพููฺฏ ุขุณุง ุฑุง ููุชูู ฺฉูุฏ.

## ๐พ ุดุฎุตุชโูุง ู ููุฌูุฏุชโูุง

### ูุงุฏุฑ ูุฒูพููฺฏ (Player Character)

**ูฺฺฏโูุง:**
- **ุญุฑฺฉุช**: ฺฉูุชุฑู ุจุง ููุณ/ฺฉูฺฉ ฺูพ ู ุฑุงุณุช
- **ุณุฑุนุช ูพุงู**: ฒฐฐ ูพฺฉุณู ุจุฑ ุซุงูู
- **ุฌูุด ุณุฑุนุช**: ฒ ุจุฑุงุจุฑ ุณุฑุนุช ูพุงู (ดฐฐ ูพฺฉุณู ุจุฑ ุซุงูู)
- **ุณูุงูุช**: ฑฐฐ ุงูุชุงุฒ ุงููู
- **ุงูุฏุงุฒู**: ถดรดธ ูพฺฉุณู (ุจูุจูุฏ ุงูุชู ุจุฑุง ุฏุฏ ุจูุชุฑ)

**ูฺฉุงูฺฉ ุญุฑฺฉุช:**
```typescript
// ุชุบุฑ ูุณุฑ
function changeLane(scene: GameScene, newLane: number) {
  const targetX = scene.lanes[newLane];
  scene.tweens.add({
    targets: scene.motherCheetah,
    x: targetX,
    duration: 200,
    ease: 'Power2'
  });
}
```

### ุชูููโูุง ูุฒ (Cubs)

**ูฺฺฏโูุง:**
- **ุชุนุฏุงุฏ**: ด ุชููู
- **ุญุฑฺฉุช**: ุฏูุจุงู ฺฉุฑุฏู ูุงุฏุฑ ุจุง ุชุฃุฎุฑ
- **ุงูุฏุงุฒู**: ดฐรฒธ ูพฺฉุณู (ุจูุจูุฏ ุงูุชู)
- **ุงููุดู**: ุญุฑฺฉุช ููุงู ู pulsing

**ูฺฉุงูฺฉ ุฏูุจุงู ฺฉุฑุฏู:**
```typescript
// ุชูููโูุง ูุงุฏุฑ ุฑุง ุฏูุจุงู ูโฺฉููุฏ
scene.cubs.forEach((cub, index) => {
  scene.tweens.add({
    targets: cub,
    x: targetX + (index % 2 === 0 ? -25 : 25),
    duration: 250 + (index * 50),
    ease: 'Power2'
  });
});
```

## ๐๏ธ ูุญุท ุจุงุฒ

### ูุณุฑูุง (Lanes)

**ูฺฺฏโูุง:**
- **ุชุนุฏุงุฏ**: ด ูุณุฑ ููุงุฒ
- **ููุงุตู**: ฑฒฐุ ฒดฐุ ณถฐุ ดธฐ ูพฺฉุณู ุงุฒ ุณูุช ฺูพ
- **ุนุฑุถ**: ฑฒฐ ูพฺฉุณู ูุฑ ูุณุฑ
- **ููุงุงูโุณุงุฒ**: ุฎุทูุท ุฑุงูููุง ุฏุฑ UI

### ูพุณโุฒูููโูุง (Backgrounds)

**ุณุณุชู ูพูุง:**
- **ด ูุตู**: ุจูุงุฑุ ุชุงุจุณุชุงูุ ูพุงุฒุ ุฒูุณุชุงู
- **ุชุบุฑ ุฎูุฏฺฉุงุฑ**: ูุฑ ถ-ธ ุซุงูู (ูุงู ุฌุฏุฏ)
- **scaling**: responsive ุจุฑุง ุชูุงู ุงูุฏุงุฒู ุตูุญูโูุง

**ุชุบุฑ ูุตู:**
```typescript
function updateSeason(scene: GameScene) {
  const month = scene.gameData.currentMonth;
  if (month <= 3 || (month >= 13 && month <= 15)) {
    scene.gameData.season = 'spring';
  } else if (month <= 6 || (month >= 16 && month <= 18)) {
    scene.gameData.season = 'summer';
  } else if (month <= 9) {
    scene.gameData.season = 'autumn';
  } else {
    scene.gameData.season = 'winter';
  }
}
```

## โ๏ธ ููุงูุน (Obstacles)

### ุงููุงุน ููุงูุน

#### ฑ. ุณฺฏโูุง (Dogs)
```typescript
const obstacleInfo = {
  type: 'dog',
  texture: 'dog-obstacle-pixel',
  healthDamage: 25,
  speedMultiplier: 1.0
};
```

#### ฒ. ุชููโูุง (Traps)
```typescript
const obstacleInfo = {
  type: 'trap',
  texture: 'trap',
  healthDamage: 30,
  speedMultiplier: 0.8
};
```

#### ณ. ุดฺฉุงุฑฺุงู (Poachers)
```typescript
const obstacleInfo = {
  type: 'poacher',
  texture: 'poacher',
  healthDamage: 50,
  speedMultiplier: 1.2
};
```

#### ด. ุฌุงุฏูโูุง (Roads)
- **ูฺฺฏ ุฎุงุต**: ุงูุชุฏุงุฏ ุชูุงู ูุณุฑูุง
- **ูุงุดูโูุง**: ุญุฑฺฉุช ุงูู ุชุตุงุฏู
- **ุฎุทุฑ ุจุงูุง**: ุจุฑุฎูุฑุฏ ุจุง ูุงุดู = ูพุงุงู ุจุงุฒ

### ูฺฉุงูฺฉ ุจุฑุฎูุฑุฏ

**ุจุฑุฎูุฑุฏ ุจุง ูุงุฏุฑ:**
```typescript
scene.physics.add.overlap(scene.motherCheetah, obstacle, () => {
  scene.audioManager?.onHitObstacle(obstacleInfo.type);
  endGame(scene, obstacleInfo.type);
});
```

**ุจุฑุฎูุฑุฏ ุจุง ุชููู:**
```typescript
scene.cubs.forEach((cub, index) => {
  scene.physics.add.overlap(cub, obstacle, () => {
    scene.gameData.cubs--;
    cub.destroy();
    scene.cubs.splice(index, 1);

    if (scene.gameData.cubs === 0) {
      endGame(scene, 'all_cubs_lost');
    }
  });
});
```

## ๐ ููุงุจุน (Resources)

### ุงููุงุน ููุงุจุน

#### ฑ. ุขุจ (Water)
```typescript
const resourceInfo = {
  type: 'water',
  texture: 'water-resource-pixel',
  healthGain: 15,
  points: 150
};
```

#### ฒ. ุบุฒุงูู (Gazelle)
```typescript
const resourceInfo = {
  type: 'gazelle',
  texture: 'gazelle-resource-pixel',
  healthGain: 25,
  points: 250
};
```

#### ณ. ุฎุฑฺฏูุด (Rabbit) - ูฺู
```typescript
const resourceInfo = {
  type: 'rabbit',
  texture: 'rabbit-resource-pixel',
  healthGain: 10,
  points: 100,
  specialEffect: 'speed_burst_charge'
};
```

### ูฺฉุงูฺฉ ุฌูุนโุขูุฑ

**ุฌูุนโุขูุฑ ุนุงุฏ:**
```typescript
scene.physics.add.overlap(scene.motherCheetah, resource, () => {
  collectResource(scene, resourceInfo.type);
  resource.destroy();
});
```

**ุฎุฑฺฏูุด ูฺู:**
```typescript
if (type === 'rabbit') {
  scene.gameData.rabbitsCollected += 1;

  if (scene.gameData.rabbitsCollected >= 3) {
    scene.gameData.burstEnergy = 100;
    scene.gameData.rabbitsCollected = 0;
  }
}
```

## โก ุณุณุชู ุฌูุด ุณุฑุนุช (Speed Burst)

### ูฺฉุงูฺฉ ฺฉุงุฑฺฉุฑุฏ

**ุดุฑุท ูุนุงูโุณุงุฒ:**
- ณ ุฎุฑฺฏูุด ุฌูุนโุขูุฑ ุดุฏู
- ุงูุฑฺ ุฌูุด = ฑฐฐ%

**ูฺฺฏโูุง:**
- **ูุฏุช ุฒูุงู**: ฒ ุซุงูู
- **ุถุฑุจ ุณุฑุนุช**: ฒ ุจุฑุงุจุฑ
- **ูุฒูู**: ุชูุงู ุงูุฑฺ ุฌูุด
- **cooldown**: ุดุงุฑฺ ูุฌุฏุฏ ุฏุฑ ุทูู ุฒูุงู

**ูุนุงูโุณุงุฒ:**
```typescript
function triggerSpeedBurst(scene: GameScene) {
  if (scene.gameData.burstEnergy >= 100) {
    scene.gameData.speedBurstActive = true;
    scene.gameSpeed *= 2;

    // ูพุงุงู ุฌูุด ุจุนุฏ ุงุฒ ฒ ุซุงูู
    scene.time.delayedCall(2000, () => {
      scene.gameData.speedBurstActive = false;
      scene.gameSpeed /= 2;
    });
  }
}
```

## โฐ ุณุณุชู ุฒูุงู ู ูพุดุฑูุช

### ฺุฑุฎู ุฒูุงู

**ฺฉู ูุฏุช ุจุงุฒ:** ฑฒฐ ุซุงูู = ฑธ ูุงู

**ุชูุณู ุฒูุงู:**
- **ูุฑ ูุงู**: ถ-ธ ุซุงูู ูุงูุน
- **ูุฑ ูุตู**: ณ ูุงู
- **ุชุบุฑ ูุตู**: ุฎูุฏฺฉุงุฑ ุจุง ูุงู ุฌุฏุฏ

### ูพุดุฑูุช ุจุงุฒ

**ุดุงุฎุตโูุง ูพุดุฑูุช:**
- **ูุงู ูุนู**: ฑ ุชุง ฑธ
- **ูุตู ูุนู**: ุจุฑ ุงุณุงุณ ูุงู
- **ุฒูุงู ุจุงูโูุงูุฏู**: ุดูุงุฑุด ูุนฺฉูุณ
- **ุณูุงูุช ุฎุงููุงุฏู**: ููุงุฑ ุณูุงูุช
- **ุงูุชุงุฒ ฺฉู**: ูุฌููุน ุงูุชุงุฒุงุช

## ๐ ุณุณุชู ุงูุชุงุฒุฏู

### ููุงุจุน ุงูุชุงุฒ

**ุงูุชุงุฒ ูพุงู:**
- ุขุจ: ฑฐ ุงูุชุงุฒ ร ุถุฑุจ ุณูุงูุช
- ุบุฒุงูู: ฑฐ ุงูุชุงุฒ ร ุถุฑุจ ุณูุงูุช
- ุฎุฑฺฏูุด: ฑฐ ุงูุชุงุฒ ร ุถุฑุจ ุณูุงูุช

**ุงูุชุงุฒ ุฒูุงู:**
- ุชฺฉูู ุณุฑุนโุชุฑ = ุงูุชุงุฒ ุจุดุชุฑ
- ูุฑ ุซุงูู ุจุงูโูุงูุฏู = ต ุงูุชุงุฒ ุงุถุงู

**ุงูุชุงุฒ ุฒูุฏู ูุงูุฏู:**
- ูุฑ ุชููู ุฒูุฏู = ฑฐฐ ุงูุชุงุฒ
- ุชูุงู ุชูููโูุง ุฒูุฏู = ุฌุงุฒู ตฐฐ ุงูุชุงุฒ

### ูุญุงุณุจู ููุง

```typescript
const finalScore =
  baseScore +
  (timeRemaining * 5) +
  (cubsSurvived * 100) +
  (cubsSurvived === 4 ? 500 : 0);
```

## ๐จ ุฌูููโูุง ุจุตุฑ

### ุงููุดูโูุง

**ฺฉุงุฑุงฺฉุชุฑูุง:**
- ุญุฑฺฉุช ููุงู ุจู ูุณุฑูุง
- ุงููุดู ุฏูุจุงู ฺฉุฑุฏู ุชูููโูุง
- pulsing effect ุจุฑุง ุชูููโูุง
- glow effect ุจุฑุง ูุงุฏุฑ

**UI:**
- ููุงุฑูุง ูพุดุฑูุช ุจุง ุงููุดู
- ูุดุฏุงุฑูุง ุณูุงูุช
- ุงููุดู ุฌูุนโุขูุฑ ููุงุจุน
- ุงูฺฉุชโูุง particle ุจุฑุง ุฌูุด ุณุฑุนุช

### ูพุณโุฒูููโูุง

**Parallax Effect:**
```typescript
// ุญุฑฺฉุช ูุงูโูุง ูุฎุชูู ุจุง ุณุฑุนุช ูุชูุงูุช
scene.background.tilePositionY -= scene.gameSpeed / 60;
scene.farBackground.tilePositionY -= (scene.gameSpeed / 60) * 0.3;
```

## ๐ ุณุณุชู ุตูุช

### ุงููุงุน ุตุฏุงูุง

**ููุณู ูพุณโุฒููู:**
- `ambient`: ููุณู ุขุฑุงู ุตุญุฑุง

**ุตุฏุงูุง gameplay:**
- `collect_water`: ุฌูุนโุขูุฑ ุขุจ
- `collect_gazelle`: ุฌูุนโุขูุฑ ุบุฒุงูู
- `collect_rabbit`: ุฌูุนโุขูุฑ ุฎุฑฺฏูุด
- `hit_obstacle`: ุจุฑุฎูุฑุฏ ุจุง ูุงูุน
- `speed_burst`: ูุนุงูโุณุงุฒ ุฌูุด ุณุฑุนุช

**ุตุฏุงูุง ูุถุนุช:**
- `low_health`: ูุดุฏุงุฑ ุณูุงูุช ฺฉู
- `victory`: ูพุฑูุฒ
- `game_over`: ุดฺฉุณุช

## ๐ ุขูุงุฑ ู ุชุญูู

### ูุชุฑฺฉโูุง ฺฉูุฏ

**ุนููฺฉุฑุฏ ุจุงุฒ:**
- ูุฑุฎ ุชฺฉูู: ุชุนุฏุงุฏ ุจุงุฒโูุง ุชูุงู ุดุฏู
- ูุงูฺฏู ุฒูุงู: ูุฏุช ุฒูุงู ูุชูุณุท ุจุงุฒ
- ูุฑุฎ ุฒูุฏู ูุงูุฏู: ุฏุฑุตุฏ ุชูููโูุง ุฒูุฏู ูุงูุฏู

**ูฺฉุงูฺฉโูุง ุจุงุฒ:**
- ุงุณุชูุงุฏู ุงุฒ ุฌูุด ุณุฑุนุช: ุชุนุฏุงุฏ ุฏูุนุงุช ุงุณุชูุงุฏู
- ููุงุจุน ุฌูุนโุขูุฑ ุดุฏู: ุขูุงุฑ ูุฑ ููุน ููุจุน
- ุจุฑุฎูุฑุฏ ุจุง ููุงูุน: ุชุนุฏุงุฏ ูุฑ ููุน ูุงูุน

### ุณุณุชู ุชุญูู

**ุฑูุฏุงุฏูุง ุฑุฏุงุจ ุดุฏู:**
```typescript
trackEvent('lane_change', {
  sessionId,
  newLane,
  month: currentMonth
});

trackEvent('resource_collected', {
  sessionId,
  resourceType,
  month: currentMonth
});

trackEvent('speed_burst_used', {
  sessionId,
  duration: 2000,
  month: currentMonth
});
```

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ูุชุบุฑูุง ูุงุจู ุชูุธู

**ุณุฑุนุช ุจุงุฒ:**
```typescript
const GAME_SPEED = 200;        // ูพฺฉุณู ุจุฑ ุซุงูู
const BURST_MULTIPLIER = 2;   // ุถุฑุจ ุฌูุด ุณุฑุนุช
const LANE_COUNT = 4;          // ุชุนุฏุงุฏ ูุณุฑูุง
```

**ุฒูุงูโุจูุฏ:**
```typescript
const GAME_DURATION = 120;     // ุซุงูู
const MONTH_DURATION = 7;      // ุซุงูู (ูุงูฺฏู)
const HEALTH_DECAY = 5;        // ฺฉุงูุด ุณูุงูุช ุจุฑ ุซุงูู
```

**ุงูุชุงุฒุฏู:**
```typescript
const BASE_POINTS = 10;        // ุงูุชุงุฒ ูพุงู
const TIME_BONUS = 5;          // ุงูุชุงุฒ ูุฑ ุซุงูู
const CUB_BONUS = 100;         // ุงูุชุงุฒ ูุฑ ุชููู
const PERFECT_BONUS = 500;     // ุฌุงุฒู ฺฉุงูู
```

## ๐ ุญุงูุชโูุง ุฎุทุง

### ุดุฑุงุท ูพุงุงู ุจุงุฒ

**ูพุงุงู ูููู:**
- ุชฺฉูู ฑธ ูุงู
- ุชูุงู ุชูููโูุง ุฒูุฏู

**ูพุงุงู ูุงูููู:**
- ุณูุงูุช ูุงุฏุฑ = ฐ (ฺฏุฑุณูฺฏ)
- ุชูุงู ุชูููโูุง ูุฑุฏูุฏ
- ุจุฑุฎูุฑุฏ ุจุง ูุงูุน ูุฑฺฏุจุงุฑ

### ูพุงูโูุง ูพุงุงู

**ูพุฑูุฒ:**
```json
{
  "achievementTitle": "ููุฑูุงู ูุฒูุง",
  "conservationMessage": "ุดูุง ุจู ูุฌุงุช ูุฒูพููฺฏ ุขุณุง ฺฉูฺฉ ฺฉุฑุฏุฏ!"
}
```

**ุดฺฉุณุช:**
```json
{
  "achievementTitle": "ุชูุงุด ูุฌุฏุฏ",
  "conservationMessage": "ูุฒูพููฺฏ ุขุณุง ูุงุฒ ุจู ุญูุงุช ุฏุงุฑุฏ"
}
```

## ๐ฏ ูฺฉุงุช ุทุฑุงุญ

### ุงุตูู ุทุฑุงุญ

**ุณุงุฏฺฏ:**
- ฺฉูุชุฑู ฺฉโุงูฺฏุดุช
- ูฺฉุงูฺฉโูุง ูุงุถุญ
- ุงุฏฺฏุฑ ุณุฑุน

**ุฌุฐุงุจุช:**
- ูพุดุฑูุช ุจุตุฑ ุจุง ูุตูโูุง
- ุงููุดูโูุง ุฑูุงู
- ุจุงุฒุฎูุฑุฏ ููุฑ

**ุขููุฒูุฏฺฏ:**
- ูพุงูโูุง ุญูุงุธุช
- ููุงุด ฺุงูุดโูุง ูุงูุน
- ุชุดูู ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ

---

**ุจุฑุง ุจูุจูุฏ ูฺฉุงูฺฉโูุง ุจุงุฒ ุจุง ุชู ุชูุณุนู ุชูุงุณ ุจฺฏุฑุฏ**